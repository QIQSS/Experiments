# -*- coding: utf-8 -*-

# %% 
LAB_SCRIPT_PATH = "C:\Codes\Lab-Scripts"
%cd $LAB_SCRIPT_PATH

from Pulses.Builder import Pulse

# %%
psg = instruments.agilent_rf_PSG('GPIB0::19::INSTR')

# %%
f_base = 60e6
f_derive = 2e6
control_time = 0.0005

#####
psg.freq_cw.set(f_base)
psg.write(f'FM1:DEViation {f_derive}')



psg.mod_fm_en.set(True)
psg.rf_en.set(True)

pulse = Pulse(name='test')
pulse.add(control_time*2)
pulse.addRamp(control_time, -1, 1, mark=True)

